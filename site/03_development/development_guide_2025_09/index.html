<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>股票估值系统开发指南 - My Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">01 project overview</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../01_project_overview/" class="dropdown-item">项目概览文档</a>
</li>
                                    
<li>
    <a href="../../01_project_overview/project_analysis_report/" class="dropdown-item">股票估值系统项目分析报告</a>
</li>
                                    
<li>
    <a href="../../01_project_overview/project_status_2025_09_latest/" class="dropdown-item">股票估值系统项目状态报告</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">02 architecture</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../02_architecture/" class="dropdown-item">架构设计文档</a>
</li>
                                    
<li>
    <a href="../../02_architecture/dcf_architecture/" class="dropdown-item">DCF 核心业务逻辑与架构</a>
</li>
                                    
<li>
    <a href="../../02_architecture/hybrid_architecture_design/" class="dropdown-item">股票估值系统混合架构设计文档</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">03 development</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../" class="dropdown-item">开发文档</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">股票估值系统开发指南</a>
</li>
                                    
<li>
    <a href="../testing_strategy_2025_09/" class="dropdown-item">测试策略与质量保障指南</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">04 deployment</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../04_deployment/" class="dropdown-item">部署运维文档</a>
</li>
                                    
<li>
    <a href="../../04_deployment/deployment_operations_guide_2025_09/" class="dropdown-item">部署运维指南</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">05 data sources</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../05_data_sources/" class="dropdown-item">数据源专题文档</a>
</li>
                                    
<li>
    <a href="../../05_data_sources/tushare_alignment/" class="dropdown-item">TuShare数据源对齐与生产部署报告</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Archived</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../archived/" class="dropdown-item">归档文档</a>
</li>
                                    
<li>
    <a href="../../archived/Stock_investment_decision_making_process/" class="dropdown-item">Stock investment decision making process</a>
</li>
                                    
<li>
    <a href="../../archived/api_backend_comprehensive_analysis/" class="dropdown-item">Stock Valuation API 后端接口详细分析文档</a>
</li>
                                    
<li>
    <a href="../../archived/dcf_industry_standards_comprehensive_analysis/" class="dropdown-item">DCF估值项目与行业标准深度对比分析报告</a>
</li>
                                    
<li>
    <a href="../../archived/dcf_optimization_plan/" class="dropdown-item">DCF 核心业务逻辑优化方案（v1）</a>
</li>
                                    
<li>
    <a href="../../archived/dcf_rolling_revaluation_guide/" class="dropdown-item">DCF 滚动重评实践指南（季度/中报更新版）</a>
</li>
                                    
<li>
    <a href="../../archived/directory_optimization_plan/" class="dropdown-item">项目目录结构优化方案</a>
</li>
                                    
<li>
    <a href="../../archived/mckinsey_financial_ratios_and_forecasting_analysis/" class="dropdown-item">Stock Vale Valuation 3.0 财务比率与预测逻辑 McKinsey 标准合规性专题分析报告</a>
</li>
                                    
<li>
    <a href="../../archived/mckinsey_standards_compliance_report/" class="dropdown-item">Stock Vale Valuation 3.0 项目 McKinsey 标准合规性分析报告</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../testing_strategy_2025_09/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#_1" class="nav-link">股票估值系统开发指南</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#_2" class="nav-link">概述</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_3" class="nav-link">快速开始</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_7" class="nav-link">项目架构</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_10" class="nav-link">开发工作流</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_20" class="nav-link">性能优化</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_21" class="nav-link">部署指南</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_24" class="nav-link">故障排查</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_27" class="nav-link">贡献指南</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_31" class="nav-link">学习资源</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_34" class="nav-link">联系方式</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="_1">股票估值系统开发指南</h1>
<p><em>最后更新: 2025-09-22</em></p>
<h2 id="_2">概述</h2>
<p>本指南面向项目的新开发者和维护者，提供完整的开发环境设置、代码规范、测试策略和部署流程。项目当前版本(3.0)已达到生产级标准。</p>
<h2 id="_3">快速开始</h2>
<h3 id="_4">环境要求</h3>
<ul>
<li>Python 3.9+</li>
<li>PostgreSQL 12+ (可选，用于数据验证)</li>
<li>Redis (可选，用于缓存)</li>
</ul>
<h3 id="_5">开发环境设置</h3>
<pre><code class="language-bash"># 1. 克隆仓库
git clone &lt;repository-url&gt;
cd stock_vale_valuation_3.0

# 2. 使用uv创建虚拟环境 (推荐)
uv venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows

# 3. 安装依赖
uv pip install -e &quot;.[dev,test]&quot;

# 4. 配置环境变量
cp .env.example .env
# 编辑 .env 文件，填入必要的配置

# 5. 安装pre-commit钩子
pre-commit install

# 6. 验证安装
pytest tests/unit/ -v
</code></pre>
<h3 id="_6">核心配置项</h3>
<p>编辑 <code>.env</code> 文件：</p>
<pre><code class="language-bash"># 数据源配置
DATA_SOURCE=tushare  # tushare/postgres/hybrid
TUSHARE_TOKEN=your_token_here
OCL_AGGREGATION_MODE=standard  # standard/pg

# LLM配置
LLM_PROVIDER=deepseek  # deepseek/custom_openai
DEEPSEEK_API_KEY=your_key_here
DEEPSEEK_MODEL_NAME=deepseek-chat

# WACC默认参数
RISK_FREE_RATE=0.03
MARKET_RISK_PREMIUM=0.05
DEFAULT_BETA=1.0
</code></pre>
<h2 id="_7">项目架构</h2>
<h3 id="_8">目录结构</h3>
<pre><code>src/
├── api/                    # FastAPI接口层
│   ├── main.py            # API入口
│   ├── models.py          # Pydantic模型
│   ├── llm_utils.py       # LLM集成
│   └── utils.py           # API工具函数
├── core/                  # 核心业务逻辑
│   ├── calculators/       # DCF计算器集群
│   │   ├── dcf/          # DCF专用计算器
│   │   ├── base.py       # 计算器基类
│   │   └── nwc_calculator.py
│   ├── financial/        # 财务分析模块
│   │   ├── processor.py  # 数据处理引擎
│   │   └── forecaster.py # 财务预测引擎
│   └── screener/         # 股票筛选器
├── data/                 # 数据层
│   ├── fetchers/         # 数据获取器
│   └── processors/       # 数据处理器
├── services/             # 服务层
└── config/               # 配置文件

frontend-streamlit/       # Streamlit前端
tests/                   # 测试套件
dev_docs/               # 开发文档
</code></pre>
<h3 id="_9">核心设计模式</h3>
<h4 id="1">1. 模块化计算器模式</h4>
<p>每个DCF计算步骤都是独立的计算器类：</p>
<pre><code class="language-python"># 例: WACC计算器
class WaccCalculator:
    def calculate_wacc(self,
                      market_value_equity: Decimal,
                      market_value_debt: Decimal,
                      cost_of_equity: Decimal,
                      cost_of_debt: Decimal,
                      tax_rate: Decimal) -&gt; WaccResult:
        # 计算逻辑
        pass
</code></pre>
<h4 id="2">2. 数据源抽象模式</h4>
<p>统一的数据获取接口支持多数据源：</p>
<pre><code class="language-python">class BaseFetcher:
    def get_stock_info(self) -&gt; dict: pass
    def get_latest_price(self, date: str) -&gt; float: pass
    def get_raw_financial_data(self, years: int) -&gt; dict: pass

class TushareAshareFetcher(BaseFetcher): pass
class AshareDataFetcher(BaseFetcher): pass  # PostgreSQL
</code></pre>
<h4 id="3">3. 服务层编排模式</h4>
<p>ValuationService协调各个计算器：</p>
<pre><code class="language-python">class ValuationService:
    def perform_valuation(self, request: StockValuationRequest) -&gt; StockValuationResponse:
        # 1. 数据获取
        # 2. 数据处理
        # 3. DCF计算链路
        # 4. LLM分析
        # 5. 结果封装
</code></pre>
<h2 id="_10">开发工作流</h2>
<h3 id="_11">代码提交流程</h3>
<ol>
<li><strong>创建功能分支</strong></li>
</ol>
<pre><code class="language-bash">git checkout -b feature/your-feature-name
</code></pre>
<ol>
<li><strong>开发与测试</strong></li>
</ol>
<pre><code class="language-bash"># 代码开发
# ...

# 运行代码质量检查
pre-commit run --all-files

# 运行相关测试
pytest tests/test_your_module.py -v

# 运行覆盖率检查
pytest --cov=src tests/ --cov-report=html
</code></pre>
<ol>
<li><strong>提交代码</strong></li>
</ol>
<pre><code class="language-bash">git add .
git commit -m &quot;feat(module): add new feature description&quot;
</code></pre>
<ol>
<li><strong>推送与合并</strong></li>
</ol>
<pre><code class="language-bash">git push origin feature/your-feature-name
# 创建Pull Request
</code></pre>
<h3 id="_12">代码规范</h3>
<h4 id="python">Python代码风格</h4>
<ul>
<li><strong>格式化</strong>: Black (line-length=88)</li>
<li><strong>导入排序</strong>: isort (profile=black)</li>
<li><strong>静态检查</strong>: Ruff + MyPy(逐步启用)</li>
<li><strong>安全检查</strong>: Bandit</li>
</ul>
<h4 id="_13">提交信息规范</h4>
<pre><code class="language-bash">feat(module): add new feature
fix(module): fix bug description
docs(module): update documentation
test(module): add tests for feature
refactor(module): refactor code
style(module): format code
chore: update dependencies
</code></pre>
<h4 id="_14">代码注释规范</h4>
<pre><code class="language-python">def calculate_dcf_value(
    self,
    ufcf_projections: List[Decimal],
    terminal_value: Decimal,
    wacc: Decimal
) -&gt; Decimal:
    &quot;&quot;&quot;
    计算DCF企业价值

    Args:
        ufcf_projections: 预测期无杠杆自由现金流列表
        terminal_value: 终值
        wacc: 加权平均资本成本

    Returns:
        Decimal: 企业价值

    Raises:
        ValueError: 当WACC为负数或UFCF为空时
    &quot;&quot;&quot;
    # 实现逻辑
</code></pre>
<h3 id="_15">测试策略</h3>
<h4 id="_16">测试分类</h4>
<ol>
<li><strong>单元测试</strong>: 测试单个函数/类的逻辑</li>
<li><strong>集成测试</strong>: 测试模块间交互</li>
<li><strong>API测试</strong>: 测试FastAPI端点</li>
<li><strong>端到端测试</strong>: 测试完整估值流程</li>
</ol>
<h4 id="_17">测试命令</h4>
<pre><code class="language-bash"># 运行所有测试
pytest

# 运行特定模块测试
pytest tests/test_wacc_calculator.py -v

# 运行API测试
pytest tests/api/ -v

# 生成覆盖率报告
pytest --cov=src --cov-report=html

# 只运行快速测试(排除慢测试)
pytest -m &quot;not slow&quot;
</code></pre>
<h4 id="_18">测试数据</h4>
<ul>
<li>使用<code>tests/fixtures/</code>目录存放测试数据</li>
<li>Mock外部API调用避免依赖外部服务</li>
<li>参数化测试覆盖边界情况</li>
</ul>
<h3 id="_19">调试技巧</h3>
<h4 id="1_1">1. 日志配置</h4>
<pre><code class="language-python">import logging
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
</code></pre>
<h4 id="2_1">2. 环境变量调试</h4>
<pre><code class="language-bash"># 启用详细日志
export LOG_LEVEL=DEBUG

# 使用测试数据源
export DATA_SOURCE=postgres

# 跳过LLM调用
export LLM_PROVIDER=mock
</code></pre>
<h4 id="3-api">3. API调试</h4>
<pre><code class="language-bash"># 启动API服务器
uvicorn src.api.main:app --reload --port 8124

# 访问Swagger文档
open http://localhost:8124/docs

# 测试API端点
curl -X POST &quot;http://localhost:8124/api/v1/valuation&quot; \
  -H &quot;Content-Type: application/json&quot; \
  -d '{&quot;ts_code&quot;: &quot;600519.SH&quot;, &quot;valuation_date&quot;: &quot;2025-09-22&quot;}'
</code></pre>
<h2 id="_20">性能优化</h2>
<h3 id="1_2">1. 数据获取优化</h3>
<ul>
<li>使用缓存减少重复API调用</li>
<li>批量获取数据避免单次调用</li>
<li>异步处理提高并发性能</li>
</ul>
<h3 id="2_2">2. 计算优化</h3>
<ul>
<li>使用Decimal避免浮点精度问题</li>
<li>向量化计算处理大量数据</li>
<li>惰性计算减少不必要计算</li>
</ul>
<h3 id="3_1">3. 内存优化</h3>
<ul>
<li>及时释放大型DataFrame</li>
<li>使用生成器处理大数据集</li>
<li>避免重复创建大对象</li>
</ul>
<h2 id="_21">部署指南</h2>
<h3 id="_22">本地部署</h3>
<h4 id="streamlit">Streamlit前端</h4>
<pre><code class="language-bash">streamlit run frontend-streamlit/streamlit_app.py --server.port 8501
</code></pre>
<h4 id="api">API服务</h4>
<pre><code class="language-bash">uvicorn src.api.main:app --host 0.0.0.0 --port 8124 --reload
</code></pre>
<h3 id="docker">Docker部署</h3>
<pre><code class="language-bash"># 构建镜像
docker build -t stock-valuation:latest .

# 运行容器
docker run -p 8124:8124 -p 8501:8501 \
  --env-file .env \
  stock-valuation:latest
</code></pre>
<h3 id="_23">生产部署注意事项</h3>
<ol>
<li><strong>环境变量</strong>: 使用Secret管理敏感信息</li>
<li><strong>数据库连接</strong>: 配置连接池和超时</li>
<li><strong>API限流</strong>: 配置TuShare API调用频率限制</li>
<li><strong>监控</strong>: 设置健康检查和性能监控</li>
<li><strong>备份</strong>: 定期备份配置和重要数据</li>
</ol>
<h2 id="_24">故障排查</h2>
<h3 id="_25">常见问题</h3>
<h4 id="1-tushare-api">1. TuShare API调用失败</h4>
<pre><code class="language-bash"># 检查token配置
echo $TUSHARE_TOKEN

# 检查网络连接
ping api.tushare.pro

# 查看API调用日志
grep &quot;tushare&quot; logs/app.log
</code></pre>
<h4 id="2_3">2. 数据清洗异常</h4>
<pre><code class="language-bash"># 检查数据质量
python scripts/data_quality_check.py

# 查看清洗警告
grep &quot;警告&quot; logs/processor.log
</code></pre>
<h4 id="3-dcf">3. DCF计算错误</h4>
<pre><code class="language-bash"># 运行单元测试
pytest tests/test_dcf_calculator.py -v

# 检查输入数据
python scripts/debug_dcf_inputs.py --ts_code 600519.SH
</code></pre>
<h3 id="_26">调试工具</h3>
<ol>
<li><strong>E2E对比脚本</strong>: <code>scripts/e2e_compare_sources.py</code></li>
<li><strong>数据探测脚本</strong>: <code>scripts/tushare_alignment_probe.py</code></li>
<li><strong>性能分析</strong>: <code>cProfile</code> + <code>snakeviz</code></li>
</ol>
<h2 id="_27">贡献指南</h2>
<h3 id="_28">代码贡献流程</h3>
<ol>
<li>Fork项目到个人仓库</li>
<li>创建功能分支</li>
<li>实现功能并添加测试</li>
<li>确保所有测试通过</li>
<li>提交Pull Request</li>
<li>代码审查与合并</li>
</ol>
<h3 id="_29">文档贡献</h3>
<ul>
<li>更新相关的dev_docs文档</li>
<li>确保代码注释完整</li>
<li>添加示例代码</li>
<li>更新CLAUDE.md如有架构变更</li>
</ul>
<h3 id="_30">问题报告</h3>
<p>使用GitHub Issues报告问题，包含：
- 问题描述
- 重现步骤
- 环境信息
- 期望行为
- 实际行为</p>
<h2 id="_31">学习资源</h2>
<h3 id="_32">项目相关</h3>
<ul>
<li>DCF估值模型理论</li>
<li>财务报表分析</li>
<li>Python异步编程</li>
<li>FastAPI框架</li>
<li>Streamlit框架</li>
</ul>
<h3 id="_33">推荐阅读</h3>
<ul>
<li>《估值：难点、解决方案及相关案例》</li>
<li>《财务报表分析与证券估值》</li>
<li>《Clean Code》(代码规范)</li>
<li>《Effective Python》(Python最佳实践)</li>
</ul>
<h2 id="_34">联系方式</h2>
<ul>
<li><strong>技术问题</strong>: 创建GitHub Issue</li>
<li><strong>功能建议</strong>: 通过Pull Request提交</li>
<li><strong>紧急问题</strong>: 联系项目维护者</li>
</ul>
<hr />
<p><em>本指南会随着项目发展持续更新，欢迎提供反馈和改进建议。</em></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
