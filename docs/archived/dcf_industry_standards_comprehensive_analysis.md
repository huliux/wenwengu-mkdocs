# DCFä¼°å€¼é¡¹ç›®ä¸Žè¡Œä¸šæ ‡å‡†æ·±åº¦å¯¹æ¯”åˆ†æžæŠ¥å‘Š

## æ‰§è¡Œæ‘˜è¦

æœ¬æŠ¥å‘ŠåŸºäºŽå¯¹åŽŸå§‹DCFä¼°å€¼ä¸“ä¸šæ ¡éªŒæŠ¥å‘Šå’Œæœ¯è¯­è§£é‡Šç‰ˆæŠ¥å‘Šçš„æ·±åº¦æ•´åˆï¼Œä»Ž**ç§‘å­¦æ€§ã€åˆç†æ€§ã€ä¸¥è°¨æ€§ã€æƒå¨æ€§**å››ä¸ªç»´åº¦ï¼Œå¯¹stock_vale_valuation_3.0é¡¹ç›®ä¸Žé‡‘èžè¡Œä¸šä¸»æµæ ‡å‡†è¿›è¡Œå…¨æ–¹ä½å¯¹æ¯”åˆ†æžã€‚åˆ†æžå‘çŽ°è¯¥é¡¹ç›®åœ¨æŠ€æœ¯æž¶æž„å’Œæ ¸å¿ƒé€»è¾‘ä¸Šè¾¾åˆ°è¡Œä¸šæ ‡å‡†æ°´å¹³ï¼Œä½†åœ¨å…³é”®ç»†èŠ‚å¤„ç†ä¸Šå­˜åœ¨æ˜¾è‘—æ”¹è¿›ç©ºé—´ã€‚

**DCFä¼°å€¼å®šä¹‰**ï¼šDiscounted Cash Flow (DCF) æ˜¯ä¸€ç§ç»å¯¹ä¼°å€¼æ–¹æ³•ï¼Œé€šè¿‡é¢„æµ‹å…¬å¸æœªæ¥è‡ªç”±çŽ°é‡‘æµå¹¶æŠ˜çŽ°åˆ°å½“å‰æ—¶ç‚¹ï¼Œä»Žè€Œç¡®å®šå…¬å¸å†…åœ¨ä»·å€¼çš„æ–¹æ³•ã€‚å…¶æ ¸å¿ƒå‡è®¾æ˜¯å…¬å¸ä»·å€¼ç­‰äºŽå…¶æœªæ¥æ‰€æœ‰è‡ªç”±çŽ°é‡‘æµçš„çŽ°å€¼ä¹‹å’Œã€‚

**æ ¸å¿ƒå‘çŽ°ï¼ˆ2025-09-10 æ›´æ–°ï¼‰**ï¼š
- æŠ€æœ¯æž¶æž„å“è¶Šï¼šæ¨¡å—åŒ–è®¾è®¡è¶…è¶Šå¤§å¤šæ•°å¼€æºé¡¹ç›®
- ç†è®ºåŸºç¡€æ‰Žå®žï¼šDCF æ ¸å¿ƒé€»è¾‘ä¸Ž McKinsey/Damodaran æ ‡å‡†ä¸€è‡´
- æ²»ç†èƒ½åŠ›å¢žå¼ºï¼šåä¹‰ GDP ä¸Šé™ï¼ˆPGR clampï¼‰ã€éšå« PGRï¼ˆExit Multipleï¼‰æç¤ºã€LTM/æ»šåŠ¨èµ„äº§è´Ÿå€ºè¡¨ã€NWC å¤©æ•°è¿‡æ¸¡ã€è¡Œä¸šé¢„è®¾æ¨¡æ¿ã€è‚¡æ¯å£å¾„å›žé€€é“¾ï¼ˆå®žæ–½â†’é¢„æ¡ˆâ†’å¹´åº¦ï¼‰å·²è½åœ°
- é€æ˜Žåº¦æå‡ï¼šAPI debug æ³¨å…¥ baseline_debugã€applied_preset ä¸Ž diffï¼›UI æ˜¾ç¤º as-ofï¼ˆä»·æ ¼/EPSï¼‰ä¸Žè‚¡æ¯æ¥æº
- åŽç»­æ–¹å‘ï¼šæ‰©å±•è¡Œä¸šåº“ã€å®Œå–„èµ„æœ¬ç»“æž„å£å¾„ï¼ˆç§Ÿèµ/ä¼˜å…ˆè‚¡/å¯è½¬å€ºï¼‰ã€æƒ…æ™¯/è’™ç‰¹å¡æ´›

### æœ€è¿‘æ›´æ–°ï¼ˆç›¸å¯¹å‰ç‰ˆå·®å¼‚ï¼‰
- ç»ˆå€¼ï¼ˆPGRï¼‰
  - æ°¸ç»­å¢žé•¿æ³•æŒ‰åä¹‰ GDP ä¸Šé™å¤¹æŒï¼ˆè¯·æ±‚/ENV å¯æŽ§ï¼‰ï¼›è¶…é™ç»™å‡ºæ¥æºä¸Žè¢«æ›´æ­£å€¼æç¤º
  - é€€å‡ºä¹˜æ•°æ³•è®¡ç®—éšå« PGRï¼Œå¹¶å¯¹æ¯” GDP ä¸Šé™æç¤ºè¶Šç•Œ
- LTM ä¸Žæ»šåŠ¨
  - ç»è¥åŸºæœŸå¯é€‰ LTMï¼ˆæŒ‰ YTD/å¹´åº¦æ‹†åˆ†ï¼‰ï¼›èµ„æœ¬ç»“æž„æŒ‰ä¼°å€¼æ—¥æ»šåŠ¨åˆ°æœ€è¿‘ä¸€è¡Œèµ„äº§è´Ÿå€ºè¡¨ï¼Œå¹¶é‡ç®— `last_component_nwc`
- NWC å¯è§£é‡Šæ€§
  - å¼•å…¥ `nwc_days_transition_years` ä¸Ž `transition_to_target`ï¼Œé¦–å¹´ Î”NWC çš„æ–¹å‘/å¹…åº¦ä¸Ž AR/AP/Inv å¤©æ•°å˜åŒ–ä¸€è‡´ï¼Œå•æµ‹è¦†ç›–
- è¡Œä¸šé¢„è®¾ï¼ˆGICS 11 + ç™½é…’å˜ä½“ï¼‰
  - æä¾› Î²ã€é¢„æµ‹æœŸã€PGR capã€EV/EBITDAã€DSO/DIO/DPO ä¸­ä½æ•°/åŒºé—´ï¼›ä½œä¸ºæ¨¡æ¿åŠ è½½ï¼ŒAPI debug è¿”å›ž `applied_preset` ä¸Ž `applied_preset_diff`
- è‚¡æ¯å£å¾„
  - TTMï¼ˆå®žæ–½/å®Œæˆï¼‰â†’ æ— åˆ™ TTMÂ·é¢„æ¡ˆ â†’ ä»æ— åˆ™ å¹´åº¦ï¼›UI æ ‡ç­¾ä½“çŽ°æ¥æº
- as-of ä¸€è‡´æ€§
  - ä»·æ ¼ï¼š`trade_date â‰¤ ä¼°å€¼æ—¥`ï¼›EPSï¼ˆå¹´æŠ¥ï¼‰ï¼š`end_date â‰¤ ä¼°å€¼æ—¥`ï¼›UI æ ‡ç­¾æ³¨æ˜Ž

## ðŸ“š ä¸“ä¸šæœ¯è¯­è§£é‡Š

### åŸºç¡€æ¦‚å¿µ
- **DCFä¼°å€¼**ï¼šDiscounted Cash Flowï¼ŒæŠ˜çŽ°çŽ°é‡‘æµä¼°å€¼æ³•ï¼Œé€šè¿‡é¢„æµ‹å…¬å¸æœªæ¥è‡ªç”±çŽ°é‡‘æµå¹¶æŠ˜çŽ°åˆ°å½“å‰æ—¶ç‚¹ç¡®å®šå…¬å¸å†…åœ¨ä»·å€¼çš„ç»å¯¹ä¼°å€¼æ–¹æ³•
- **ä¼ä¸šä»·å€¼(EV)**ï¼šEnterprise Valueï¼Œå…¬å¸æ•´ä½“ä»·å€¼ï¼ŒåŒ…æ‹¬è‚¡æƒä»·å€¼å’Œå€ºåŠ¡ä»·å€¼ï¼Œå‡åŽ»çŽ°é‡‘åŠçŽ°é‡‘ç­‰ä»·ç‰©
- **è‚¡æƒä»·å€¼**ï¼šEquity Valueï¼Œä¼ä¸šä»·å€¼å‡åŽ»å‡€å€ºåŠ¡åŽçš„ä»·å€¼ï¼Œä»£è¡¨è‚¡ä¸œæƒç›Šçš„ä»·å€¼
- **æ°¸ç»­å¢žé•¿çŽ‡**ï¼šPerpetual Growth Rateï¼Œå…¬å¸åœ¨ç»ˆå€¼é˜¶æ®µçš„é•¿æœŸç¨³å®šå¢žé•¿çŽ‡ï¼Œé€šå¸¸å‡è®¾å…¬å¸æ°¸ç»­ç»è¥
- **WACC**ï¼šWeighted Average Cost of Capitalï¼ŒåŠ æƒå¹³å‡èµ„æœ¬æˆæœ¬ï¼Œå…¬å¸å„ç§èžèµ„æˆæœ¬çš„åŠ æƒå¹³å‡å€¼

### å…³é”®æŒ‡æ ‡è§£é‡Š
- **Re (è‚¡æƒæˆæœ¬)**ï¼šCost of Equityï¼Œè‚¡ä¸œè¦æ±‚çš„å¿…è¦æ”¶ç›ŠçŽ‡ï¼Œåæ˜ è‚¡æƒæŠ•èµ„çš„é£Žé™©å’Œå›žæŠ¥è¦æ±‚
- **Rf (æ— é£Žé™©åˆ©çŽ‡)**ï¼šRisk-Free Rateï¼Œç†è®ºä¸Šæ— é£Žé™©æŠ•èµ„çš„æ”¶ç›ŠçŽ‡ï¼Œé€šå¸¸ä½¿ç”¨é•¿æœŸå›½å€ºæ”¶ç›ŠçŽ‡
- **Î² (Betaç³»æ•°)**ï¼šç³»ç»Ÿæ€§é£Žé™©ç³»æ•°ï¼Œè¡¡é‡å•ä¸ªè‚¡ç¥¨ç›¸å¯¹äºŽæ•´ä¸ªå¸‚åœºçš„æ³¢åŠ¨æ€§ï¼Œå¸‚åœºç»„åˆçš„Betaä¸º1.0
- **Rm (å¸‚åœºå›žæŠ¥çŽ‡)**ï¼šMarket Returnï¼Œè‚¡ç¥¨å¸‚åœºçš„é¢„æœŸæ”¶ç›ŠçŽ‡ï¼Œé€šå¸¸ä½¿ç”¨å¸‚åœºæŒ‡æ•°çš„åŽ†å²å¹³å‡æ”¶ç›ŠçŽ‡
- **CRP (å›½å®¶é£Žé™©æº¢ä»·)**ï¼šCountry Risk Premiumï¼ŒæŠ•èµ„ç‰¹å®šå›½å®¶ç›¸æ¯”å‘è¾¾å›½å®¶æ‰€è¦æ±‚çš„é¢å¤–é£Žé™©è¡¥å¿
- **SRP (è§„æ¨¡é£Žé™©æº¢ä»·)**ï¼šSize Risk Premiumï¼Œå°è§„æ¨¡å…¬å¸ç›¸æ¯”å¤§è§„æ¨¡å…¬å¸æ‰€è¦æ±‚çš„é¢å¤–é£Žé™©è¡¥å¿
- **IRP (è¡Œä¸šé£Žé™©æº¢ä»·)**ï¼šIndustry Risk Premiumï¼Œç‰¹å®šè¡Œä¸šç›¸æ¯”å¸‚åœºæ•´ä½“æ‰€è¦æ±‚çš„é¢å¤–é£Žé™©è¡¥å¿
- **SP (è§„æ¨¡æº¢ä»·)**ï¼šSize Premiumï¼Œä¸Žå…¬å¸è§„æ¨¡ç›¸å…³çš„é£Žé™©æº¢ä»·ï¼Œé€šå¸¸ç”¨äºŽè¡¥å¿å°å…¬å¸çš„é¢å¤–é£Žé™©

### é‡‘èžæœºæž„èƒŒæ™¯
- **McKinsey (éº¦è‚¯é”¡)**ï¼šå…¨çƒé¢†å…ˆçš„ç®¡ç†å’¨è¯¢å…¬å¸ï¼Œå…¶ä¼°å€¼æ–¹æ³•è®ºè¢«å¹¿æ³›è®¤ä¸ºæ˜¯è¡Œä¸šæ ‡å‡†
- **Damodaran**ï¼šçº½çº¦å¤§å­¦Sternå•†å­¦é™¢æ•™æŽˆï¼Œå…¬å¸ä¼°å€¼é¢†åŸŸæƒå¨ä¸“å®¶ï¼Œè¢«èª‰ä¸ºçŽ°ä»£ä¼°å€¼ä¹‹çˆ¶
- **CFA Institute**ï¼šç‰¹è®¸é‡‘èžåˆ†æžå¸ˆåä¼šï¼Œå…¨çƒæŠ•èµ„ç®¡ç†è¡Œä¸šçš„ä¸“ä¸šæ ‡å‡†åˆ¶å®šè€…å’Œè®¤è¯æœºæž„

## 1. æ–¹æ³•è®ºå¯¹æ¯”åˆ†æž

### 1.1 DCFæ¨¡åž‹æž¶æž„å¯¹æ¯”

| å¯¹æ¯”ç»´åº¦ | è¡Œä¸šæ ‡å‡† (McKinsey/Damodaran) | æœ¬é¡¹ç›®å®žçŽ° | ç¬¦åˆåº¦ | å·®å¼‚åˆ†æž |
|---------|----------------------------|-----------|--------|----------|
| **æ¨¡åž‹ç±»åž‹** | ä¸¤é˜¶æ®µDCFæ¨¡åž‹ | ä¸¤é˜¶æ®µDCFæ¨¡åž‹ | âœ… 100% | å®Œå…¨ç¬¦åˆ |
| **æ˜¾æ€§é¢„æµ‹æœŸ** | 5-10å¹´ï¼ŒæŒ‰è¡Œä¸šç‰¹æ€§è°ƒæ•´ | é»˜è®¤5å¹´ï¼›UI 3â€“15å¹´ï¼ŒAPI 1â€“20å¹´ | âœ… 85% | å·²æ”¯æŒé…ç½®ï¼Œå»ºè®®æŒ‰è¡Œä¸šä¸Žå…¬å¸å‘¨æœŸè°ƒæ•´ |
| **ç»ˆå€¼è®¡ç®—** | æ°¸ç»­å¢žé•¿æ³• + é€€å‡ºä¹˜æ•°æ³•åŒéªŒè¯ | æ°¸ç»­å¢žé•¿æ³• + é€€å‡ºä¹˜æ•°æ³• | âœ… 95% | å®žçŽ°å®Œæ•´ï¼Œä½†PGRä¸Šé™å¾…ä¼˜åŒ– |
| **ä¼ä¸šä»·å€¼æ¡¥æŽ¥** | æ ‡å‡†EVåˆ°Equityæ¡¥æŽ¥ | æ ‡å‡†EVåˆ°Equityæ¡¥æŽ¥ | âœ… 100% | å®Œå…¨ç¬¦åˆ |

#### **ç§‘å­¦æ€§è¯„ä»·**ï¼šB+
- **ä¼˜åŠ¿**ï¼šä¸¥æ ¼éµå¾ªä¸¤é˜¶æ®µDCFç†è®ºæ¡†æž¶ï¼Œæ¨¡åž‹ç»“æž„å®Œæ•´
- **ä¸è¶³**ï¼šé¢„æµ‹æœŸè®¾å®šç¼ºä¹è¡Œä¸šå·®å¼‚åŒ–ï¼Œå½±å“ä¼°å€¼ç²¾åº¦

### 1.2 è®¡ç®—å™¨æ¨¡å—åŒ–è®¾è®¡å¯¹æ¯”

**è¡Œä¸šæ ‡å‡†å®žè·µ**ï¼š
- McKinseyæŽ¨èæ¨¡å—åŒ–ä¼°å€¼ç»„ä»¶
- Damodaranå¼ºè°ƒè®¡ç®—æ­¥éª¤çš„ç‹¬ç«‹æ€§å’Œå¯éªŒè¯æ€§
- CFA Instituteè¦æ±‚è®¡ç®—è¿‡ç¨‹é€æ˜ŽåŒ–

**æœ¬é¡¹ç›®å®žçŽ°**ï¼š
```python
# 6ä¸ªä¸“ä¸šåŒ–è®¡ç®—å™¨ï¼Œå®Œå…¨ç¬¦åˆæ¨¡å—åŒ–è¦æ±‚
- NwcCalculator: å‡€è¥è¿èµ„æœ¬è®¡ç®—
- FcfCalculator: æ— æ æ†è‡ªç”±çŽ°é‡‘æµè®¡ç®—  
- WaccCalculator: åŠ æƒå¹³å‡èµ„æœ¬æˆæœ¬è®¡ç®—
- TerminalValueCalculator: ç»ˆå€¼è®¡ç®—
- PresentValueCalculator: çŽ°å€¼è®¡ç®—
- EquityBridgeCalculator: ä¼ä¸šä»·å€¼åˆ°è‚¡æƒä»·å€¼æ¡¥æŽ¥
```

**æƒå¨æ€§è¯„ä»·**ï¼šA-
- **è¶…è¶ŠåŒè¡Œ**ï¼šæ¨¡å—åŒ–ç¨‹åº¦è¶…è¿‡å¤§å¤šæ•°å¼€æºé¡¹ç›®
- **ç¬¦åˆæ ‡å‡†**ï¼šå®Œå…¨ç¬¦åˆæƒå¨æœºæž„çš„æ¨¡å—åŒ–è¦æ±‚

## 2. æ ¸å¿ƒå…¬å¼ä¸Žé€»è¾‘å¯¹æ¯”

### 2.1 CAPMæ¨¡åž‹æ·±åº¦å¯¹æ¯”ï¼ˆå·²æ›´æ–°ï¼‰

| æœºæž„ | æ ‡å‡†å…¬å¼ | æœ¬é¡¹ç›®å®žçŽ° | å·®å¼‚åˆ†æž | æƒå¨æ€§ç¬¦åˆåº¦ |
|------|----------|------------|----------|-------------|
| **CFA Institute** | `Re = Rf + Î²Ã—(Rm-Rf) + CRP + SRP` | `Re = Rf + Î²Ã—(MRP+CRP) + Size + IRP` | å·²æ¶µç›– CRP/IRP/Size | 95% |
| **Damodaran** | `Re = Rf + Î²Ã—(Rm-Rf) + CRP + IRP` | `Re = Rf + Î²Ã—(MRP+CRP) + Size + IRP` | ä¸Žæƒå¨å®žè·µä¸€è‡´ | 95% |
| **McKinsey** | `Re = Rf + Î²Ã—(Rm-Rf) + Size` | `Re = Rf + Î²Ã—(MRP+CRP) + Size + IRP` | å¢žå¼ºå®žçŽ°ï¼Œç¬¦åˆå®žåŠ¡ | 95% |

**CAPMå…¬å¼è¯´æ˜Ž**ï¼š
- **Re = Rf + Î²Ã—(Rm-Rf) + CRP + SRP**ï¼šè¿™æ˜¯æ‰©å±•çš„CAPMæ¨¡åž‹å…¬å¼ï¼Œè®¡ç®—è‚¡æƒæˆæœ¬çš„å®Œæ•´è¡¨è¾¾å¼
- **Rf (æ— é£Žé™©åˆ©çŽ‡)**ï¼šé€šå¸¸ä½¿ç”¨10å¹´æœŸæˆ–æ›´é•¿æœŸå›½å€ºçš„åˆ°æœŸæ”¶ç›ŠçŽ‡ï¼Œä»£è¡¨ç†è®ºä¸Šçš„æ— é£Žé™©æŠ•èµ„å›žæŠ¥çŽ‡
- **Î²Ã—(Rm-Rf)**ï¼šå¸‚åœºé£Žé™©æº¢ä»·éƒ¨åˆ†ï¼Œå…¶ä¸­(Rm-Rf)æ˜¯å¸‚åœºé£Žé™©æº¢ä»·ï¼ŒÎ²è¡¡é‡è‚¡ç¥¨ç›¸å¯¹äºŽå¸‚åœºçš„ç³»ç»Ÿæ€§é£Žé™©
- **CRP (å›½å®¶é£Žé™©æº¢ä»·)**ï¼šåœ¨æ–°å…´å¸‚åœºæŠ•èµ„ä¸­ï¼Œç”¨äºŽè¡¥å¿å›½å®¶ç‰¹å®šé£Žé™©çš„é¢å¤–æº¢ä»·ï¼Œé€šå¸¸ä½¿ç”¨ä¸»æƒå€ºåˆ¸åˆ©å·®ç­‰æ–¹æ³•è®¡ç®—
- **SRP (è§„æ¨¡é£Žé™©æº¢ä»·)**ï¼šåŸºäºŽå®žè¯ç ”ç©¶å‘çŽ°çš„å°å…¬å¸é•¿æœŸå›žæŠ¥é«˜äºŽå¤§å…¬å¸çš„çŽ°è±¡è€Œè®¾ç«‹çš„é£Žé™©æº¢ä»·

#### **å…³é”®ç¼ºé™·åˆ†æž**ï¼š

**1. å›½å®¶é£Žé™©æº¢ä»·(CRP)ç¼ºå¤±**ï¼š
```python
# å½“å‰å®žçŽ° (wacc_calculator.py:105)
cost_of_equity = rf_rate + beta * mrp + size_premium

# è¡Œä¸šæ ‡å‡†åº”è¯¥åŒ…å«
cost_of_equity = rf_rate + beta * (mrp + crp) + size_premium + industry_risk_premium
```

**ä¸“ä¸šåˆ†æž**ï¼š
åœ¨æ–°å…´å¸‚åœºä¼°å€¼ä¸­ï¼Œå›½å®¶é£Žé™©æº¢ä»·æ˜¯CAPMæ¨¡åž‹çš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚ä¸­å›½ä½œä¸ºæ–°å…´å¸‚åœºï¼Œå…¶ç³»ç»Ÿæ€§é£Žé™©æ˜¾è‘—é«˜äºŽå‘è¾¾å›½å®¶ï¼Œä¸»è¦ä½“çŽ°åœ¨æ”¿ç­–é£Žé™©ã€æ±‡çŽ‡é£Žé™©ã€æµåŠ¨æ€§é£Žé™©ç­‰æ–¹é¢ã€‚ç¼ºå¤±CRPä¼šå¯¼è‡´è‚¡æƒæˆæœ¬ç³»ç»Ÿæ€§ä½Žä¼°ï¼Œä»Žè€Œå½±å“ä¼°å€¼çš„å‡†ç¡®æ€§ã€‚

**å½±å“è¯„ä¼°**ï¼š
- **å¯¹ä¸­å›½Aè‚¡ä¼°å€¼**ï¼šç³»ç»Ÿæ€§ä½Žä¼°0.5%-1.5%çš„è‚¡æƒæˆæœ¬
- **å¯¹æ–°å…´å¸‚åœº**ï¼šä¼°å€¼åå·®å¯èƒ½è¾¾åˆ°10%-15%
- **ç§‘å­¦æ€§**ï¼šç¼ºä¹åœ°åŸŸé£Žé™©è°ƒæ•´ï¼Œæ¨¡åž‹å®Œå¤‡æ€§ä¸è¶³

### 2.2 æ°¸ç»­å¢žé•¿çŽ‡é€»è¾‘å¯¹æ¯”

| æƒå¨æœºæž„ | æ ‡å‡†è®¾å®š | æœ¬é¡¹ç›®å®žçŽ° | ç§‘å­¦æ€§è¯„ä»· |
|----------|----------|------------|------------|
| **Damodaran** | é•¿æœŸGDPå¢žé•¿çŽ‡ + 1-2% | `min(pg_rate, risk_free_rate)` | âŒ è¿‡äºŽä¿å®ˆ |
| **McKinsey** | é€šèƒ€çŽ‡ + å®žé™…å¢žé•¿çŽ‡ | `min(pg_rate, risk_free_rate)` | âŒ é™åˆ¶è¿‡ä¸¥ |
| **CFA Institute** | ä¸è¶…è¿‡é•¿æœŸGDPå¢žé•¿çŽ‡1.5å€ | `min(pg_rate, risk_free_rate)` | âš ï¸ ä¸åˆç† |

**æœ¯è¯­è§£é‡Š**ï¼š
- **æ°¸ç»­å¢žé•¿çŽ‡**ï¼šPerpetual Growth Rateï¼Œå…¬å¸åœ¨ç»ˆå€¼é˜¶æ®µçš„é•¿æœŸç¨³å®šå¢žé•¿çŽ‡ï¼Œç†è®ºä¸Šä¸åº”è¶…è¿‡é•¿æœŸGDPå¢žé•¿çŽ‡
- **GDPå¢žé•¿çŽ‡**ï¼šGross Domestic Product Growth Rateï¼Œè¡¡é‡å›½å®¶ç»æµŽå¢žé•¿é€Ÿåº¦çš„æŒ‡æ ‡ï¼Œä¸­å›½é•¿æœŸåä¹‰GDPå¢žé•¿çŽ‡çº¦ä¸º6-8%
- **æ— é£Žé™©åˆ©çŽ‡**ï¼šRisk-Free Rateï¼Œç†è®ºä¸Šæ— é£Žé™©æŠ•èµ„çš„æ”¶ç›ŠçŽ‡ï¼Œé€šå¸¸ä½¿ç”¨10å¹´æœŸå›½å€ºæ”¶ç›ŠçŽ‡ï¼Œå½“å‰çº¦ä¸º3-4%
- **é€šèƒ€çŽ‡**ï¼šInflation Rateï¼Œç‰©ä»·æ°´å¹³çš„ä¸Šæ¶¨é€Ÿåº¦ï¼Œé€šå¸¸ä½¿ç”¨CPIæŒ‡æ ‡è¡¡é‡ï¼Œé•¿æœŸç›®æ ‡é€šå¸¸ä¸º2-3%

#### **é€»è¾‘ä¸¥è°¨æ€§åˆ†æž**ï¼š
```python
# å½“å‰é—®é¢˜é€»è¾‘ (terminal_value_calculator.py:89)
pg_rate_to_use = min(pg_rate_decimal, self.risk_free_rate)

# é—®é¢˜1ï¼šæ— é£Žé™©åˆ©çŽ‡é€šå¸¸ä¸º3-4%ï¼Œè€Œé•¿æœŸGDPå¢žé•¿çŽ‡ä¸º5-7%
# é—®é¢˜2ï¼šä¼˜è´¨å…¬å¸å¢žé•¿é€Ÿåº¦åº”å¯èƒ½è¶…è¿‡æ— é£Žé™©åˆ©çŽ‡
# é—®é¢˜3ï¼šæœªè€ƒè™‘é€šèƒ€å› ç´ 
```

**ä¸“ä¸šåˆ†æž**ï¼š
ä»Žç»æµŽç†è®ºè§’åº¦åˆ†æžï¼Œæ°¸ç»­å¢žé•¿çŽ‡åº”è¯¥åæ˜ å…¬å¸é•¿æœŸç¨³å®šçš„å¢žé•¿èƒ½åŠ›ã€‚å°†æ°¸ç»­å¢žé•¿çŽ‡é™åˆ¶åœ¨æ— é£Žé™©åˆ©çŽ‡ä»¥ä¸‹å­˜åœ¨é€»è¾‘ç¼ºé™·ï¼Œå› ä¸ºï¼š
1. æ— é£Žé™©åˆ©çŽ‡é€šå¸¸ä¸º3-4%ï¼Œè€Œé•¿æœŸåä¹‰GDPå¢žé•¿çŽ‡ä¸º6-8%
2. ä¼˜è´¨å…¬å¸åº”è¯¥èƒ½å¤ŸèŽ·å¾—è¶…è¿‡å¹³å‡æ°´å¹³çš„å¢žé•¿
3. è¯¥é™åˆ¶è¿èƒŒäº†ç»æµŽå¢žé•¿çš„åŸºæœ¬åŽŸç†å’Œä¼ä¸šå‘å±•è§„å¾‹

**åˆç†æ€§è¯„ä»·**ï¼šC
- **æ ¹æœ¬æ€§ç¼ºé™·**ï¼šè¿èƒŒç»æµŽå¢žé•¿åŸºæœ¬åŽŸç†
- **å½±å“**ï¼šç³»ç»Ÿæ€§ä½Žä¼°å…¬å¸ç»ˆå€¼ï¼Œå¯èƒ½ä½Žä¼°20%-30%

### 2.3 UFCFè®¡ç®—å…¬å¼å¯¹æ¯”

**è¡Œä¸šæ ‡å‡†å…¬å¼**ï¼š
```
UFCF = EBIT Ã— (1-ç¨ŽçŽ‡) + æŠ˜æ—§æ‘Šé”€ - èµ„æœ¬æ”¯å‡º - å‡€è¥è¿èµ„æœ¬å˜åŠ¨
```

**æœ¬é¡¹ç›®å®žçŽ°**ï¼š
```python
# fcf_calculator.pyä¸­å®Œå…¨ç¬¦åˆæ ‡å‡†å…¬å¼
ufcf = ebit * (1 - tax_rate) + depreciation_amortization - capital_expenditures - change_in_nwc
```

**æœ¯è¯­è§£é‡Š**ï¼š
- **UFCF (æ— æ æ†è‡ªç”±çŽ°é‡‘æµ)**ï¼šUnlevered Free Cash Flowï¼Œå…¬å¸åœ¨æ”¯ä»˜å€ºåŠ¡åˆ©æ¯å‰çš„è‡ªç”±çŽ°é‡‘æµï¼Œåæ˜ å…¬å¸æ ¸å¿ƒç»è¥æ´»åŠ¨äº§ç”Ÿçš„çŽ°é‡‘èƒ½åŠ›
- **EBIT (æ¯ç¨Žå‰åˆ©æ¶¦)**ï¼šEarnings Before Interest and Taxesï¼Œæ‰£é™¤åˆ©æ¯å’Œæ‰€å¾—ç¨Žå‰çš„è¥ä¸šåˆ©æ¶¦
- **æŠ˜æ—§æ‘Šé”€**ï¼šDepreciation and Amortizationï¼ŒéžçŽ°é‡‘è´¹ç”¨æ”¯å‡ºï¼Œåæ˜ å›ºå®šèµ„äº§å’Œæ— å½¢èµ„äº§çš„ä»·å€¼æ‘Šé”€
- **èµ„æœ¬æ”¯å‡º**ï¼šCapital Expendituresï¼Œç”¨äºŽè´­ç½®ã€ç»´æŠ¤å’Œå‡çº§é•¿æœŸèµ„äº§çš„çŽ°é‡‘æ”¯å‡º
- **å‡€è¥è¿èµ„æœ¬å˜åŠ¨**ï¼šChange in Net Working Capitalï¼ŒæµåŠ¨èµ„äº§å‡åŽ»æµåŠ¨è´Ÿå€ºçš„å˜åŠ¨ï¼Œåæ˜ ç»è¥æ€§èµ„é‡‘å ç”¨å˜åŒ–

**ä¸¥è°¨æ€§è¯„ä»·**ï¼šA+
- **å®Œå…¨ç¬¦åˆ**ï¼šå…¬å¼å®žçŽ°ç²¾ç¡®æ— è¯¯
- **æŠ€æœ¯ä¼˜åŠ¿**ï¼šä½¿ç”¨Decimalç¡®ä¿è®¡ç®—ç²¾åº¦
- **éªŒè¯å®Œå¤‡**ï¼šåŒ…å«å®Œæ•´çš„è¾“å…¥éªŒè¯

## 3. æ•°æ®ä½¿ç”¨ä¸Žè¦ç´ ç»´åº¦å¯¹æ¯”

### 3.1 èµ„æœ¬ç»“æž„è®¡ç®—å¯¹æ¯”

| è®¡ç®—è¦ç´  | è¡Œä¸šæ ‡å‡†å®žè·µ | æœ¬é¡¹ç›®å®žçŽ° | å·®å¼‚åˆ†æž |
|----------|--------------|------------|----------|
| **å€ºåŠ¡ä»·å€¼** | åŒ…å«ç»è¥ç§Ÿèµèµ„æœ¬åŒ–(IFRS 16) | ä»…åŒ…å«ä¼ ç»Ÿæœ‰æ¯è´Ÿå€º | âŒ é‡å¤§é—æ¼ |
| **ä¼˜å…ˆè‚¡å¤„ç†** | ä½œä¸ºç‹¬ç«‹èµ„æœ¬æˆåˆ† | æœªå•ç‹¬å¤„ç† | âŒ ç¼ºå¤± |
| **å¯è½¬æ¢å€ºåˆ¸** | æ··åˆè¯åˆ¸å¤æ‚å¤„ç† | æœªè€ƒè™‘ | âŒ ç¼ºå¤± |
| **å¸‚åœºä»·å€¼æƒé‡** | æ”¯æŒç›®æ ‡/å¸‚åœºåŒé‡æ¨¡å¼ | æ”¯æŒç›®æ ‡/å¸‚åœºåŒé‡æ¨¡å¼ | âœ… è‰¯å¥½ |

**ä¼°å€¼æ—¥æ»šåŠ¨ä¸Žå£å¾„ä¸€è‡´æ€§**ï¼š
- è¡Œä¸šæœ€ä½³å®žè·µè¦æ±‚ä»¥â€œä¼°å€¼æ—¥å‰æœ€æ–°å·²æŠ«éœ²èµ„äº§è´Ÿå€ºè¡¨â€è®¡ç®—å‡€å€ºåŠ¡ï¼›æœ¬é¡¹ç›®å·²æŒ‰ä¼°å€¼æ—¥æ»šåŠ¨å–æ•°ï¼Œå¹¶ä¸Žè¥è¿èµ„æœ¬åŸºæœŸ `last_component_nwc` å¯¹é½ï¼ˆçŽ°é‡‘ä¸å…¥ NWCï¼‰ï¼Œå‡å°‘ Î”NWC å£å¾„è·³å˜ï¼Œç¬¦åˆ McKinsey å£å¾„ã€‚
- ç»è¥åŸºæœŸæ”¯æŒ LTM/Interimï¼ˆå¯é€‰ï¼‰ï¼Œä»¥ YTD ä¸Žä¸Šå¹´å¹´æŠ¥æ‹†åˆ†è®¡ç®— LTM æ”¶å…¥ï¼Œä¾¿äºŽä¸­æœŸ/å­£åº¦æ›´æ–°åŽçš„æ»šåŠ¨é‡è¯„ã€‚

**æœ¯è¯­è§£é‡Š**ï¼š
- **ç»è¥ç§Ÿèµèµ„æœ¬åŒ–**ï¼šOperating Lease Capitalizationï¼Œæ ¹æ®IFRS 16å‡†åˆ™å°†ç»è¥ç§Ÿèµç¡®è®¤ä¸ºä½¿ç”¨æƒèµ„äº§å’Œç§Ÿèµè´Ÿå€º
- **ä¼˜å…ˆè‚¡**ï¼šPreferred Stockï¼Œå…·æœ‰ä¼˜å…ˆåˆ†çº¢æƒå’Œæ¸…ç®—æƒçš„æ··åˆè¯åˆ¸ï¼Œå…¼å…·å€ºæƒå’Œè‚¡æƒç‰¹å¾
- **å¯è½¬æ¢å€ºåˆ¸**ï¼šConvertible Bondï¼Œå¯ä»¥æŒ‰çº¦å®šæ¡ä»¶è½¬æ¢ä¸ºå‘è¡Œå…¬å¸æ™®é€šè‚¡çš„å€ºåŠ¡å·¥å…·
- **IFRS 16**ï¼šInternational Financial Reporting Standard 16ï¼Œå›½é™…è´¢åŠ¡æŠ¥å‘Šå‡†åˆ™ç¬¬16å·ï¼Œå…³äºŽç§Ÿèµçš„ä¼šè®¡å¤„ç†æ ‡å‡†

#### **å½“å‰å®žçŽ°é—®é¢˜**ï¼š
```python
# wacc_calculator.py:243-259 è¿‡äºŽç®€åŒ–
debt_market_value = lt_borr + st_borr + bond_payable + non_cur_liab_due_1y
```

**è¡Œä¸šæ ‡å‡†åº”è¯¥åŒ…å«**ï¼š
```python
# å®Œæ•´çš„å€ºåŠ¡ä»·å€¼è®¡ç®—
debt_market_value = (
    lt_borr + st_borr + bond_payable + 
    non_cur_liab_due_1y + 
    operating_lease_capitalized +  # ç»è¥ç§Ÿèµèµ„æœ¬åŒ–
    preferred_stock +              # ä¼˜å…ˆè‚¡
    convertible_debt_portion       # å¯è½¬æ¢å€ºåˆ¸å€ºåŠ¡éƒ¨åˆ†
)
```

**ä¸“ä¸šåˆ†æž**ï¼š
å®Œæ•´çš„å€ºåŠ¡ä»·å€¼è®¡ç®—åº”è¯¥åŒ…æ‹¬æ‰€æœ‰å…·æœ‰å€ºåŠ¡æ€§è´¨çš„èžèµ„å·¥å…·ã€‚ä¼ ç»Ÿæœ‰æ¯è´Ÿå€ºåªæ˜¯å€ºåŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œæ ¹æ®çŽ°ä»£ä¼šè®¡å‡†åˆ™å’Œé‡‘èžç†è®ºï¼Œè¿˜åº”è¯¥åŒ…æ‹¬ç»è¥ç§Ÿèµè´Ÿå€ºã€ä¼˜å…ˆè‚¡ã€å¯è½¬æ¢å€ºåˆ¸ç­‰æ··åˆèžèµ„å·¥å…·çš„å€ºåŠ¡éƒ¨åˆ†ã€‚è¿™æ ·æ‰èƒ½å‡†ç¡®åæ˜ å…¬å¸çš„çœŸå®žèµ„æœ¬ç»“æž„å’Œå€ºåŠ¡æ°´å¹³ã€‚

### 3.2 è¡Œä¸šåŸºå‡†æ•°æ®å¯¹æ¯”

| ç»´åº¦ | è¡Œä¸šæ ‡å‡† | æœ¬é¡¹ç›® | å·®å¼‚åˆ†æž |
|------|----------|--------|----------|
| **è¡Œä¸šå·®å¼‚åŒ–å‚æ•°** | å®Œæ•´çš„è¡Œä¸šåŸºå‡†æ•°æ®åº“ | ç¼ºå¤± | âŒ é‡å¤§ç¼ºé™· |
| **BetaåŸºå‡†å€¼** | æŒ‰è¡Œä¸šæä¾›æ ‡å‡†Beta | ä½¿ç”¨å›ºå®šå€¼1.0 | âš ï¸ ä¸å¤Ÿç²¾ç¡® |
| **é¢„æµ‹æœŸè®¾å®š** | æŒ‰è¡Œä¸šç‰¹æ€§è®¾å®š | é»˜è®¤5å¹´ï¼›UI 3â€“15å¹´ï¼ŒAPI 1â€“20å¹´ | âœ… æ”¹å–„ | å·²å…·å¤‡çµæ´»æ€§ï¼Œå»ºè®®æŒ‰è¡Œä¸šé¢„è®¾ |

**æœ¯è¯­è§£é‡Š**ï¼š
- **BetaåŸºå‡†å€¼**ï¼šBeta Benchmarkï¼Œä¸åŒè¡Œä¸šçš„ç³»ç»Ÿæ€§é£Žé™©ç³»æ•°ï¼Œåæ˜ è¡Œä¸šç›¸å¯¹äºŽå¸‚åœºçš„æ³¢åŠ¨æ€§
- **é¢„æµ‹æœŸ**ï¼šForecast Periodï¼Œå¯¹å…¬å¸æœªæ¥è´¢åŠ¡è¡¨çŽ°è¿›è¡Œé¢„æµ‹çš„æ—¶é—´è·¨åº¦ï¼Œæ ¹æ®è¡Œä¸šç‰¹æ€§æœ‰æ‰€ä¸åŒ
- **é€€å‡ºä¹˜æ•°**ï¼šExit Multipleï¼Œç»ˆå€¼è®¡ç®—ä¸­ä½¿ç”¨çš„ä¼°å€¼ä¹˜æ•°ï¼Œé€šå¸¸ä¸ºEV/EBITDAæˆ–P/Eç­‰æŒ‡æ ‡
- **æ°¸ç»­å¢žé•¿çŽ‡**ï¼šPerpetual Growth Rateï¼Œå…¬å¸åœ¨ç»ˆå€¼é˜¶æ®µçš„é•¿æœŸç¨³å®šå¢žé•¿çŽ‡ï¼Œæ ¹æ®è¡Œä¸šå‘å±•é˜¶æ®µè®¾å®š

**è¡Œä¸šæ ‡å‡†åŸºå‡†æ•°æ®ç¤ºä¾‹**ï¼š
```python
# åº”è¯¥å»ºç«‹çš„è¡Œä¸šåŸºå‡†
INDUSTRY_BENCHMARKS = {
    'Technology': {
        'beta': 1.2,                    # ç§‘æŠ€è¡Œä¸šæ³¢åŠ¨å¤§ï¼Œé£Žé™©é«˜
        'forecast_period': 10,         # æŠ€æœ¯å˜åŒ–å¿«ï¼Œéœ€è¦é•¿æœŸé¢„æµ‹
        'perpetual_growth': 0.06,      # æˆé•¿ç©ºé—´å¤§
        'exit_multiple': 12.5          # ä¼°å€¼å€æ•°é«˜
    },
    'Consumer_Staples': {
        'beta': 0.8,                    # å¿…éœ€å“éœ€æ±‚ç¨³å®šï¼Œé£Žé™©ä½Ž
        'forecast_period': 5,          # ä¸šåŠ¡ç›¸å¯¹ç¨³å®š
        'perpetual_growth': 0.03,      # æˆç†Ÿè¡Œä¸šå¢žé•¿æ…¢
        'exit_multiple': 8.3           # ä¼°å€¼å€æ•°é€‚ä¸­
    }
}
```

**ä¸“ä¸šåˆ†æž**ï¼š
ä¸åŒè¡Œä¸šå…·æœ‰æ˜¾è‘—ä¸åŒçš„é£Žé™©ç‰¹å¾å’Œæˆé•¿æ€§ç‰¹å¾ï¼š
- **ç§‘æŠ€è¡Œä¸š**ï¼šé«˜Betaå€¼(1.2-1.5)ï¼Œé«˜æˆé•¿æ€§ï¼Œéœ€è¦æ›´é•¿é¢„æµ‹æœŸ(10å¹´)ï¼Œé«˜é€€å‡ºä¹˜æ•°(12-15å€)
- **æ¶ˆè´¹è¡Œä¸š**ï¼šä¸­ç­‰Betaå€¼(0.8-1.0)ï¼Œç¨³å®šæˆé•¿ï¼Œä¸­ç­‰é¢„æµ‹æœŸ(5-7å¹´)ï¼Œä¸­ç­‰é€€å‡ºä¹˜æ•°(8-10å€)
- **é‡‘èžè¡Œä¸š**ï¼šå—ç›‘ç®¡å½±å“å¤§ï¼Œç‰¹æ®Šä¼šè®¡å¤„ç†ï¼Œé€‚ç”¨ä¸“é—¨çš„ä¼°å€¼æ–¹æ³•

å½“å‰é¡¹ç›®ç¼ºä¹è¡Œä¸šå·®å¼‚åŒ–å¤„ç†ï¼Œå¯¼è‡´ä¼°å€¼å‚æ•°è®¾ç½®ä¸å¤Ÿç²¾ç¡®ã€‚

## 4. ç§‘å­¦æ€§ä¸Žä¸¥è°¨æ€§ç»¼åˆè¯„ä»·

### 4.1 ç§‘å­¦æ€§è¯„ä»· (B+)

**ä¼˜åŠ¿**ï¼š
- âœ… ç†è®ºæ¡†æž¶å®Œæ•´ï¼Œç¬¦åˆDCFæ ¸å¿ƒåŽŸç†
- âœ… æ¨¡å—åŒ–è®¾è®¡ç§‘å­¦ï¼Œä¾¿äºŽéªŒè¯å’Œç»´æŠ¤
- âœ… è®¡ç®—ç²¾åº¦æŽ§åˆ¶è‰¯å¥½ï¼Œä½¿ç”¨Decimalç±»åž‹

**ä¸è¶³**ï¼š
- âŒ CAPMæ¨¡åž‹ç¼ºä¹å›½å®¶é£Žé™©è°ƒæ•´
- âŒ æ°¸ç»­å¢žé•¿çŽ‡é€»è¾‘è¿èƒŒç»æµŽåŽŸç†
- âŒ ç¼ºä¹å®žè¯æ•°æ®æ”¯æŒå‚æ•°è®¾å®š

### 4.2 åˆç†æ€§è¯„ä»· (B)

**ä¼˜åŠ¿**ï¼š
- âœ… ä¸šåŠ¡æµç¨‹è®¾è®¡åˆç†ï¼Œè¦†ç›–å®Œæ•´ä¼°å€¼é“¾
- âœ… é£Žé™©æŽ§åˆ¶æœºåˆ¶å®Œå–„ï¼ŒåŒ…å«å¤šé‡éªŒè¯
- âœ… ç”¨æˆ·æŽ¥å£è®¾è®¡åˆç†ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ–¹å¼

**ä¸è¶³**ï¼š
- âŒ å‚æ•°è®¾ç½®è¿‡äºŽä¿å®ˆï¼Œå¯èƒ½ä½Žä¼°å…¬å¸ä»·å€¼
- âŒ è¡Œä¸šé€‚åº”æ€§ä¸è¶³ï¼Œç¼ºä¹å·®å¼‚åŒ–å¤„ç†
- âŒ é¢„æµ‹é€»è¾‘è¿‡äºŽç®€åŒ–ï¼Œæœªè€ƒè™‘è¡Œä¸šç”Ÿå‘½å‘¨æœŸ

### 4.3 ä¸¥è°¨æ€§è¯„ä»· (A-)

**ä¼˜åŠ¿**ï¼š
- âœ… ä»£ç å®žçŽ°ä¸¥è°¨ï¼Œå¼‚å¸¸å¤„ç†å®Œå–„
- âœ… è®¡ç®—é€»è¾‘ç²¾ç¡®ï¼Œå…¬å¼å®žçŽ°å‡†ç¡®
- âœ… æ•°æ®éªŒè¯å®Œå¤‡ï¼ŒåŒ…å«å®Œæ•´æ€§æ£€æŸ¥

**ä¸è¶³**ï¼š
- âš ï¸ æŸäº›å‚æ•°éªŒè¯è¿‡äºŽä¸¥æ ¼ï¼ˆå¦‚æ°¸ç»­å¢žé•¿çŽ‡ï¼‰
- âš ï¸ ç¼ºä¹å¯¹æžç«¯æƒ…å†µçš„å¤„ç†
- âš ï¸ æ–‡æ¡£å’Œæ³¨é‡Šä¸å¤Ÿè¯¦ç»†

### 4.4 æƒå¨æ€§è¯„ä»· (B)

**ä¼˜åŠ¿**ï¼š
- âœ… ç¬¦åˆä¸»æµDCFä¼°å€¼ç†è®ºæ¡†æž¶
- âœ… å‚è€ƒäº†æƒå¨æœºæž„çš„æœ€ä½³å®žè·µ
- âœ… å®žçŽ°äº†æ ‡å‡†çš„ä¼°å€¼è®¡ç®—æµç¨‹

**ä¸è¶³**ï¼š
- âŒ ç¼ºä¹æƒå¨æœºæž„çš„ç›´æŽ¥è®¤è¯
- âŒ æŸäº›å…³é”®å‡è®¾ä¸Žæƒå¨æ ‡å‡†å­˜åœ¨åå·®
- âŒ æœªå¼•ç”¨æƒå¨æ•°æ®æºæ”¯æŒå‚æ•°è®¾å®š

## 5. æ ¸å¿ƒé—®é¢˜æ€»ç»“ä¸Žæ”¹è¿›å»ºè®®

### 5.1 é«˜ä¼˜å…ˆçº§é—®é¢˜ï¼ˆå¿…é¡»ä¿®å¤ï¼‰

#### 1. CAPMæ¨¡åž‹å¢žå¼º
```python
def enhanced_capm_calculation(self, beta, market_risk_premium, 
                             country_risk_premium, industry_risk_premium):
    """
    å¢žå¼ºåž‹CAPMè®¡ç®—ï¼Œç¬¦åˆCFA Instituteæ ‡å‡†
    """
    # åŸºç¡€CAPM
    cost_of_equity = self.risk_free_rate + beta * market_risk_premium
    
    # å›½å®¶é£Žé™©è°ƒæ•´ï¼ˆå¯¹æ–°å…´å¸‚åœºå…³é”®ï¼‰
    if self.is_emerging_market:
        cost_of_equity += beta * country_risk_premium
    
    # è¡Œä¸šé£Žé™©è°ƒæ•´
    cost_of_equity += industry_risk_premium
    
    return cost_of_equity
```

#### 2. æ°¸ç»­å¢žé•¿çŽ‡é€»è¾‘é‡æž„
```python
def validate_perpetual_growth_rate(self, pg_rate, country_gdp_growth, inflation_rate):
    """
    åŸºäºŽç»æµŽåŸºæœ¬é¢çš„æ°¸ç»­å¢žé•¿çŽ‡éªŒè¯
    ç¬¦åˆDamodaranå’ŒMcKinseyæ ‡å‡†
    """
    # é•¿æœŸåä¹‰GDPå¢žé•¿çŽ‡
    nominal_gdp_growth = country_gdp_growth + inflation_rate
    
    # åˆç†èŒƒå›´ï¼šGDPå¢žé•¿çŽ‡è‡³GDP+2%
    reasonable_max = nominal_gdp_growth + 0.02
    reasonable_min = nominal_gdp_growth - 0.01
    
    # éªŒè¯èŒƒå›´
    if pg_rate > reasonable_max:
        return reasonable_max
    elif pg_rate < reasonable_min:
        return reasonable_min
    return pg_rate
```

#### 3. è¡Œä¸šåŸºå‡†æ•°æ®åº“å»ºè®¾
```python
class IndustryBenchmarks:
    """æƒå¨è¡Œä¸šä¼°å€¼åŸºå‡†æ•°æ®åº“"""
    
    DATA = {
        'Technology': {
            'beta': 1.2,
            'forecast_period': 10,
            'perpetual_growth': 0.06,
            'exit_multiple': 12.5,
            'revenue_growth': 0.15,
            'operating_margin': 0.25
        },
        'Consumer': {
            'beta': 0.9,
            'forecast_period': 7,
            'perpetual_growth': 0.04,
            'exit_multiple': 9.8,
            'revenue_growth': 0.08,
            'operating_margin': 0.18
        },
        # æ›´å¤šè¡Œä¸šæ•°æ®...
    }
```

### 5.2 ä¸­ä¼˜å…ˆçº§æ”¹è¿›

#### 1. èµ„æœ¬ç»“æž„è®¡ç®—å®Œå–„
```python
def calculate_comprehensive_debt_value(self):
    """
    å®Œæ•´çš„å€ºåŠ¡ä»·å€¼è®¡ç®—ï¼Œç¬¦åˆIFRS 16æ ‡å‡†
    """
    # ä¼ ç»Ÿæœ‰æ¯è´Ÿå€º
    traditional_debt = (
        self.lt_borr + self.st_borr + 
        self.bond_payable + self.non_cur_liab_due_1y
    )
    
    # ç»è¥ç§Ÿèµèµ„æœ¬åŒ–ï¼ˆIFRS 16è¦æ±‚ï¼‰
    operating_lease_value = self.capitalize_operating_leases()
    
    # å…¶ä»–å€ºåŠ¡å·¥å…·
    preferred_stock = self.get_preferred_stock_value()
    convertible_debt = self.get_convertible_debt_value()
    
    return traditional_debt + operating_lease_value + preferred_stock + convertible_debt
```

#### 2. é¢„æµ‹æœŸçµæ´»é…ç½®
```python
def get_industry_forecast_period(self, industry_type):
    """
    æŒ‰è¡Œä¸šç‰¹æ€§è®¾å®šé¢„æµ‹æœŸ
    """
    forecast_periods = {
        'Technology': 10,      # æŠ€æœ¯å˜åŒ–å¿«ï¼Œéœ€è¦é•¿æœŸé¢„æµ‹
        'Consumer': 7,         # æ¶ˆè´¹è¡Œä¸šç›¸å¯¹ç¨³å®š
        'Financial': 5,        # å—ç›‘ç®¡å½±å“å¤§
        'Industrial': 8,       # å‘¨æœŸæ€§å¼ºï¼Œéœ€è¦è¦†ç›–å‘¨æœŸ
        'Healthcare': 10       # ç ”å‘å‘¨æœŸé•¿
    }
    return forecast_periods.get(industry_type, 5)
```

### 5.3 ä½Žä¼˜å…ˆçº§ä¼˜åŒ–

1. **å¢žåŠ æ•æ„Ÿæ€§åˆ†æžç»´åº¦**
2. **å®Œå–„çŽ°é‡‘æµè´¨é‡è¯„ä¼°**
3. **å¢žåŠ ç›¸å¯¹ä¼°å€¼å¯¹æ¯”åŠŸèƒ½**
4. **ä¼˜åŒ–ç”¨æˆ·ç•Œé¢å’ŒæŠ¥å‘Šç”Ÿæˆ**

## 6. æ€»ä½“è¯„ä»·ä¸Žå»ºè®®

### 6.1 é¡¹ç›®è¯„åˆ†

| è¯„ä»·ç»´åº¦ | å¾—åˆ† | ç­‰çº§ | è¯´æ˜Ž |
|----------|------|------|------|
| **ç§‘å­¦æ€§** | 78/100 | B+ | ç†è®ºæ¡†æž¶å®Œæ•´ï¼Œä½†å…³é”®å‚æ•°è®¾ç½®å­˜åœ¨é—®é¢˜ |
| **åˆç†æ€§** | 75/100 | B | ä¸šåŠ¡æµç¨‹åˆç†ï¼Œä½†è¡Œä¸šé€‚åº”æ€§ä¸è¶³ |
| **ä¸¥è°¨æ€§** | 85/100 | A- | ä»£ç å®žçŽ°ä¸¥è°¨ï¼Œä½†æŸäº›éªŒè¯é€»è¾‘è¿‡äºŽä¿å®ˆ |
| **æƒå¨æ€§** | 72/100 | B- | ç¬¦åˆä¸»æµæ ‡å‡†ï¼Œä½†ç¼ºä¹æƒå¨è®¤è¯å’ŒåŸºå‡†æ•°æ® |
| **ç»¼åˆè¯„åˆ†** | 77.5/100 | B+ | å…·å¤‡ä¸“ä¸šæ°´å‡†ï¼Œä½†éœ€è¦å…³é”®æ”¹è¿› |

**è¯„åˆ†æ ‡å‡†è¯´æ˜Ž**ï¼š
- **B+ (77.5åˆ†)**ï¼šå…·å¤‡ä¸“ä¸šæ°´å‡†ï¼Œä½†åœ¨å…³é”®æŠ€æœ¯ç»†èŠ‚ä¸Šå­˜åœ¨æ”¹è¿›ç©ºé—´
- **Açº§ä¸“ä¸šæ°´å‡†**ï¼š85åˆ†ä»¥ä¸Šï¼Œè¾¾åˆ°è¡Œä¸šé¢†å…ˆæ°´å¹³ï¼Œç¬¦åˆä¸»æµé‡‘èžæœºæž„æ ‡å‡†
- **å½“å‰æ°´å¹³**ï¼šåŸºç¡€æž¶æž„æ‰Žå®žï¼Œæ ¸å¿ƒé€»è¾‘æ­£ç¡®ï¼Œéœ€è¦ä¼˜åŒ–å…³é”®å‚æ•°è®¾ç½®

### 6.2 æ ¸å¿ƒä¼˜åŠ¿

1. **æŠ€æœ¯æž¶æž„å“è¶Š**ï¼šæ¨¡å—åŒ–è®¾è®¡è¶…è¶Šå¤§å¤šæ•°å¼€æºé¡¹ç›®
2. **ç†è®ºåŸºç¡€æ‰Žå®ž**ï¼šDCFæ ¸å¿ƒé€»è¾‘ç¬¦åˆä¸»æµæ ‡å‡†
3. **ä»£ç è´¨é‡é«˜**ï¼šå®žçŽ°ä¸¥è°¨ï¼Œå¼‚å¸¸å¤„ç†å®Œå–„
4. **æ‰©å±•æ€§å¥½**ï¼šæ’ä»¶å¼æž¶æž„ä¾¿äºŽåŠŸèƒ½æ‰©å±•

### 6.3 å…³é”®ä¸è¶³

1. **CAPMæ¨¡åž‹ç¼ºé™·**ï¼šå›½å®¶é£Žé™©æº¢ä»·ç¼ºå¤±ï¼Œå½±å“æ–°å…´å¸‚åœºä¼°å€¼
2. **æ°¸ç»­å¢žé•¿çŽ‡é—®é¢˜**ï¼šé€»è¾‘è®¾ç½®è¿‡äºŽä¿å®ˆï¼Œå¯èƒ½ä½Žä¼°å…¬å¸ä»·å€¼
3. **è¡Œä¸šé€‚åº”æ€§ä¸è¶³**ï¼šç¼ºä¹è¡Œä¸šå·®å¼‚åŒ–å‚æ•°å’ŒåŸºå‡†æ•°æ®
4. **æƒå¨æ€§æ¬ ç¼º**ï¼šç¼ºä¹æƒå¨æœºæž„è®¤è¯å’ŒåŸºå‡†æ•°æ®æ”¯æŒ

### 6.4 æ”¹è¿›è·¯çº¿å›¾

#### **ç¬¬ä¸€é˜¶æ®µ**ï¼ˆ1-2ä¸ªæœˆï¼‰ï¼šå…³é”®é—®é¢˜ä¿®å¤
- [ ] å®žçŽ°å¢žå¼ºåž‹CAPMæ¨¡åž‹ï¼ŒåŒ…å«å›½å®¶é£Žé™©æº¢ä»·
- [ ] é‡æž„æ°¸ç»­å¢žé•¿çŽ‡éªŒè¯é€»è¾‘
- [ ] å»ºç«‹åŸºç¡€è¡Œä¸šåŸºå‡†æ•°æ®åº“

#### **ç¬¬äºŒé˜¶æ®µ**ï¼ˆ2-3ä¸ªæœˆï¼‰ï¼šè¡Œä¸šé€‚åº”æ€§å¢žå¼º
- [ ] å®Œå–„èµ„æœ¬ç»“æž„è®¡ç®—ï¼Œç¬¦åˆIFRS 16æ ‡å‡†
- [ ] å®žçŽ°é¢„æµ‹æœŸè¡Œä¸šå·®å¼‚åŒ–é…ç½®
- [ ] å¢žåŠ è¡Œä¸šç”Ÿå‘½å‘¨æœŸè€ƒé‡

#### **ç¬¬ä¸‰é˜¶æ®µ**ï¼ˆ3-4ä¸ªæœˆï¼‰ï¼šæƒå¨æ€§æå‡
- [ ] æ•´åˆæƒå¨æ•°æ®æºå’ŒåŸºå‡†æ•°æ®
- [ ] å¢žåŠ ç›¸å¯¹ä¼°å€¼å’Œæ•æ„Ÿæ€§åˆ†æž
- [ ] å®Œå–„æ–‡æ¡£å’Œè®¤è¯ææ–™

## 7. ç»“è®º

stock_vale_valuation_3.0é¡¹ç›®åœ¨DCFä¼°å€¼å®žçŽ°ä¸Šå±•çŽ°äº†**è¾ƒé«˜çš„ä¸“ä¸šæ°´å‡†**ï¼ŒæŠ€æœ¯æž¶æž„å’Œæ ¸å¿ƒè®¡ç®—é€»è¾‘éƒ½è¾¾åˆ°äº†è¡Œä¸šæ ‡å‡†ã€‚é¡¹ç›®å…·å¤‡æˆä¸º**ä¼ä¸šçº§ä¼°å€¼å¹³å°**çš„æ½œåŠ›ï¼Œä½†éœ€è¦åœ¨ä»¥ä¸‹å…³é”®æ–¹é¢è¿›è¡Œæ”¹è¿›ï¼š

1. **ç§‘å­¦æ€§æå‡**ï¼šä¿®å¤CAPMå’Œæ°¸ç»­å¢žé•¿çŽ‡çš„å…³é”®ç¼ºé™·
2. **è¡Œä¸šé€‚åº”æ€§**ï¼šå¢žåŠ è¡Œä¸šå·®å¼‚åŒ–å¤„ç†å’ŒåŸºå‡†æ•°æ®
3. **æƒå¨æ€§å»ºè®¾**ï¼šæ•´åˆæƒå¨æ•°æ®æºå’Œæœ€ä½³å®žè·µ

é€šè¿‡å®žæ–½ä¸Šè¿°æ”¹è¿›å»ºè®®ï¼Œé¡¹ç›®å¯ä»¥è¾¾åˆ°**Açº§ä¸“ä¸šæ°´å‡†**ï¼ˆ85åˆ†ä»¥ä¸Šï¼‰ï¼Œæˆä¸ºçœŸæ­£æ„ä¹‰ä¸Šçš„ä¼ä¸šçº§ä¼°å€¼å¹³å°ã€‚é¡¹ç›®å·²ç»å…·å¤‡äº†æ‰Žå®žçš„åŸºç¡€ï¼Œå¼€å‘å›¢é˜Ÿå±•çŽ°äº†åœ¨é‡‘èžå·¥ç¨‹å’Œè½¯ä»¶æž¶æž„æ–¹é¢çš„æ·±åŽšåŠŸåº•ï¼Œæ˜¯ä¸€ä¸ªå…·æœ‰å¾ˆé«˜ä»·å€¼çš„é‡‘èžç§‘æŠ€åŸºç¡€æ¡†æž¶ã€‚

**æœ€ç»ˆè¯„ä»·**ï¼šè¿™æ˜¯ä¸€ä¸ª**ä¼˜ç§€çš„é‡‘èžç§‘æŠ€åŸºç¡€æ¡†æž¶**ï¼Œåœ¨å…³é”®ç»†èŠ‚ä¸Šè¿›è¡Œä¼˜åŒ–åŽï¼Œå®Œå…¨å¯ä»¥è¾¾åˆ°å›½é™…é¡¶å°–æ°´å¹³ã€‚

---

## ðŸ“‹ ä¸“ä¸šæ€»ç»“

### é¡¹ç›®å®šä½
stock_vale_valuation_3.0æ˜¯ä¸€ä¸ªåŸºäºŽDCFä¼°å€¼ç†è®ºçš„ä¸“ä¸šçº§å…¬å¸ä¼°å€¼ç³»ç»Ÿï¼Œé‡‡ç”¨æ¨¡å—åŒ–æž¶æž„è®¾è®¡ï¼Œé›†æˆäº†å®Œæ•´çš„è´¢åŠ¡é¢„æµ‹å’ŒçŽ°é‡‘æµè®¡ç®—åŠŸèƒ½ã€‚

### æŠ€æœ¯ä¼˜åŠ¿
- **æž¶æž„è®¾è®¡**ï¼šé‡‡ç”¨6ä¸ªä¸“ä¸šåŒ–è®¡ç®—å™¨æ¨¡å—ï¼Œå®žçŽ°äº†é«˜å†…èšä½Žè€¦åˆçš„ç³»ç»Ÿæž¶æž„
- **è®¡ç®—ç²¾åº¦**ï¼šä½¿ç”¨Decimalç±»åž‹ç¡®ä¿é‡‘èžè®¡ç®—ç²¾åº¦ï¼Œé¿å…æµ®ç‚¹æ•°è¯¯å·®
- **ä»£ç è´¨é‡**ï¼šå¼‚å¸¸å¤„ç†å®Œå–„ï¼ŒåŒ…å«å®Œæ•´çš„è¾“å…¥éªŒè¯å’Œè¾¹ç•Œæ¡ä»¶æ£€æŸ¥

### ä¸»è¦ä¸è¶³
- **CAPMæ¨¡åž‹**ï¼šç¼ºå°‘å›½å®¶é£Žé™©æº¢ä»·è°ƒæ•´ï¼Œå¯¹æ–°å…´å¸‚åœºä¼°å€¼ä¸å¤Ÿå‡†ç¡®
- **æ°¸ç»­å¢žé•¿çŽ‡**ï¼šé™åˆ¶é€»è¾‘è¿‡äºŽä¿å®ˆï¼Œå¯èƒ½ç³»ç»Ÿæ€§ä½Žä¼°å…¬å¸ç»ˆå€¼
- **è¡Œä¸šé€‚åº”æ€§**ï¼šç¼ºä¹è¡Œä¸šå·®å¼‚åŒ–å‚æ•°è®¾ç½®ï¼Œå½±å“ä¼°å€¼ç²¾åº¦

### æ”¹è¿›æ–¹å‘
1. **æ¨¡åž‹å®Œå–„**ï¼šå¢žå¼ºCAPMæ¨¡åž‹ï¼Œå®Œå–„æ°¸ç»­å¢žé•¿çŽ‡é€»è¾‘
2. **æ•°æ®å»ºè®¾**ï¼šå»ºç«‹è¡Œä¸šåŸºå‡†æ•°æ®åº“ï¼Œæä¾›å·®å¼‚åŒ–å‚æ•°
3. **æƒå¨æ€§æå‡**ï¼šæ•´åˆæƒå¨æ•°æ®æºï¼Œç¬¦åˆå›½é™…ä¼°å€¼æ ‡å‡†

### ç»“è®º
è¯¥é¡¹ç›®å…·å¤‡æˆä¸ºä¼ä¸šçº§ä¼°å€¼å¹³å°çš„æŠ€æœ¯åŸºç¡€ï¼Œé€šè¿‡å…³é”®æ”¹è¿›å¯è¾¾åˆ°è¡Œä¸šé¢†å…ˆæ°´å¹³ã€‚
