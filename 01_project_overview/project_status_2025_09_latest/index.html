
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../project_analysis_report/">
      
      
        <link rel="next" href="../../02_architecture/dcf_architecture/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>project_status_2025_09_latest - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              project_status_2025_09_latest
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    01_project_overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            01_project_overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project_analysis_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    project_analysis_report
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    project_status_2025_09_latest
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    project_status_2025_09_latest
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      执行摘要
    </span>
  </a>
  
    <nav class="md-nav" aria-label="执行摘要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      关键成就
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      当前架构概览
    </span>
  </a>
  
    <nav class="md-nav" aria-label="当前架构概览">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2025-09" class="md-nav__link">
    <span class="md-ellipsis">
      系统架构（2025-09版本）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      核心模块统计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      主要功能模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主要功能模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 用户认证与会话管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 数据获取与处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-dcf" class="md-nav__link">
    <span class="md-ellipsis">
      2. DCF估值计算引擎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-llm" class="md-nav__link">
    <span class="md-ellipsis">
      3. LLM智能分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 敏感性分析系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 股票筛选器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      开发工具链
    </span>
  </a>
  
    <nav class="md-nav" aria-label="开发工具链">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      代码质量保障
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      包管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      运行命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      数据源对比与验证
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据源对比与验证">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tushare-vs-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      TuShare vs PostgreSQL 对齐结果
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      数据源选择建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      已知问题与限制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="已知问题与限制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 行业适用性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 数据质量依赖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 性能考虑
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      下一步规划
    </span>
  </a>
  
    <nav class="md-nav" aria-label="下一步规划">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-2" class="md-nav__link">
    <span class="md-ellipsis">
      短期优化(1-2周)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      中期增强(1个月)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      长期愿景(3个月)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      技术债务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="技术债务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      高优先级
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      中优先级
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      结论
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    02_architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            02_architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_architecture/dcf_architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    dcf_architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02_architecture/hybrid_architecture_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    hybrid_architecture_design
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      执行摘要
    </span>
  </a>
  
    <nav class="md-nav" aria-label="执行摘要">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      关键成就
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      当前架构概览
    </span>
  </a>
  
    <nav class="md-nav" aria-label="当前架构概览">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2025-09" class="md-nav__link">
    <span class="md-ellipsis">
      系统架构（2025-09版本）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      核心模块统计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      主要功能模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="主要功能模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 用户认证与会话管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 数据获取与处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-dcf" class="md-nav__link">
    <span class="md-ellipsis">
      2. DCF估值计算引擎
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-llm" class="md-nav__link">
    <span class="md-ellipsis">
      3. LLM智能分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 敏感性分析系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 股票筛选器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      开发工具链
    </span>
  </a>
  
    <nav class="md-nav" aria-label="开发工具链">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      代码质量保障
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      包管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      运行命令
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      数据源对比与验证
    </span>
  </a>
  
    <nav class="md-nav" aria-label="数据源对比与验证">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tushare-vs-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      TuShare vs PostgreSQL 对齐结果
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      数据源选择建议
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      已知问题与限制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="已知问题与限制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 行业适用性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 数据质量依赖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 性能考虑
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      下一步规划
    </span>
  </a>
  
    <nav class="md-nav" aria-label="下一步规划">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-2" class="md-nav__link">
    <span class="md-ellipsis">
      短期优化(1-2周)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      中期增强(1个月)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      长期愿景(3个月)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      技术债务
    </span>
  </a>
  
    <nav class="md-nav" aria-label="技术债务">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      高优先级
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      中优先级
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      结论
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">股票估值系统项目状态报告</h1>
<p><em>最后更新: 2025-09-26</em></p>
<h2 id="_2">执行摘要</h2>
<p>本项目是一个基于DCF模型的专业股票估值系统，当前已完成从Proof of Concept到Production Ready的转换。系统实现了混合数据源架构（TuShare + PostgreSQL），具备完整的估值链路、LLM智能分析、敏感性分析、股票筛选等功能。</p>
<p><strong>当前版本</strong>: v3.0.0 (feature/user-auth分支)
<strong>核心技术栈</strong>: Python 3.9+, FastAPI, Streamlit, PostgreSQL, TuShare API
<strong>架构模式</strong>: 混合数据源 + 模块化DCF计算 + LLM智能分析
<strong>部署状态</strong>: 开发环境运行(Streamlit端口8501)，生产就绪</p>
<h3 id="_3">关键成就</h3>
<ul>
<li>✅ <strong>生产级数据源</strong>: TuShare接口完全对齐PostgreSQL标准，支持数据源热切换</li>
<li>✅ <strong>模块化DCF引擎</strong>: 6个独立计算器，覆盖从NWC到股权价值的完整链路</li>
<li>✅ <strong>Streamlit前端架构</strong>: 基于Streamlit的现代化Web界面，支持用户友好操作</li>
<li>✅ <strong>用户认证系统</strong>: 完整的用户注册/登录/会话管理，数据库从SQLite迁移至Postgres/Supabase</li>
<li>✅ <strong>智能缓存系统</strong>: 估值结果缓存与会话恢复，大幅提升用户体验和系统性能</li>
<li>✅ <strong>LLM集成</strong>: 支持DeepSeek/OpenAI兼容API，生成投资分析报告</li>
<li>✅ <strong>敏感性分析</strong>: 多维度估值sensitivity table，支持终值法/永续增长法</li>
<li>✅ <strong>股票筛选器</strong>: 基于财务指标的多条件筛选</li>
<li>✅ <strong>LTM基线</strong>: 支持Last Twelve Months收入基期，提升时效性</li>
</ul>
<h2 id="_4">当前架构概览</h2>
<h3 id="2025-09">系统架构（2025-09版本）</h3>
<pre><code>前端层 (Streamlit)
└── Streamlit: frontend-streamlit/streamlit_app.py

API服务层
└── FastAPI: src/api/main.py (端口8124)
    ├── 估值接口: /api/v1/valuation
    ├── 敏感性分析: /api/v1/sensitivity
    └── 股票筛选: /api/v1/screener

业务逻辑层
├── 核心计算引擎: src/core/
│   ├── calculators/dcf/: DCF计算器集群(6个模块)
│   ├── financial/: 财务预测与处理引擎
│   └── screener/: 股票筛选器
├── 数据服务: src/data/
│   ├── fetchers/: 数据获取器(TuShare/PostgreSQL)
│   └── processors/: 数据清洗与处理
└── 业务服务: src/services/valuation_service.py

数据层
├── TuShare API: 实时金融数据(主要)
├── PostgreSQL: 历史数据存储/校验基准
└── Redis: 缓存层(配置项)
</code></pre>
<h3 id="_5">核心模块统计</h3>
<ul>
<li><strong>源代码文件</strong>: 34个Python模块</li>
<li><strong>测试文件</strong>: 27个测试模块</li>
<li><strong>前端文件</strong>: 17个前端组件</li>
<li><strong>配置文件</strong>: 支持uv/pip双包管理，pre-commit代码质量保障</li>
</ul>
<h2 id="_6">主要功能模块</h2>
<h3 id="1">1. 用户认证与会话管理</h3>
<p><strong>位置</strong>: <code>src/auth/</code>, <code>frontend-streamlit/auth/</code></p>
<p><strong>功能特性</strong>:
- 完整的用户注册、登录、会话管理系统
- 数据库架构迁移：SQLite → PostgreSQL/Supabase，支持高并发和云原生部署
- 会话持久化：用户登录状态和估值结果缓存，提升用户体验
- 认证中间件：保护敏感功能和数据访问
- 安全特性：密码哈希、会话令牌、防CSRF等</p>
<p><strong>关键改进</strong>(2025-09):
- 解决SQLite并发锁问题，迁移至成熟的关系型数据库
- 智能缓存机制，估值结果在会话间持久保存
- 优化用户界面，简化认证流程</p>
<h3 id="2">2. 数据获取与处理</h3>
<p><strong>位置</strong>: <code>src/data/fetchers/</code>, <code>src/core/financial/processor.py</code></p>
<p><strong>功能特性</strong>:
- 混合数据源架构: <code>DATA_SOURCE=tushare/postgres/hybrid</code>
- TuShare年报严格筛选: <code>end_type='4'</code>, <code>update_flag='1'</code>优先
- 字段映射统一: 应收账款+票据聚合、固定资产回退、EPS去重
- 数据清洗保护: 关键科目(收入/利润/资产/负债)免受异常值误判
- LTM支持: 季度+年报组装Last Twelve Months基线</p>
<p><strong>关键改进</strong>(2025-09):
- 修复资产负债表基准日回退到2023的问题
- 保护列机制防止结构性跃迁被误判为异常
- 按年择优保留(不再丢失最新年度数据)</p>
<h3 id="2-dcf">2. DCF估值计算引擎</h3>
<p><strong>位置</strong>: <code>src/core/calculators/dcf/</code>, <code>src/core/financial/forecaster.py</code></p>
<p><strong>模块组成</strong>:
1. <strong>NwcCalculator</strong>: 净营运资本计算与预测
2. <strong>FcfCalculator</strong>: 无杠杆自由现金流计算
3. <strong>WaccCalculator</strong>: 加权平均资本成本计算
4. <strong>TerminalValueCalculator</strong>: 终值计算(退出倍数/永续增长)
5. <strong>PresentValueCalculator</strong>: 现值折现计算
6. <strong>EquityBridgeCalculator</strong>: 企业价值到股权价值桥接</p>
<p><strong>估值链路</strong>:</p>
<pre><code>历史数据 → 清洗处理 → 比率中位数 → 财务预测 → UFCF计算 → 终值计算 → 现值折现 → 股权价值 → 每股价值
</code></pre>
<p><strong>关键特性</strong>:
- 历史比率中位数驱动预测
- 支持CAGR衰减与过渡到目标值
- 名义GDP上限约束(中国市场)
- Decimal精度计算避免浮点误差</p>
<h3 id="3-llm">3. LLM智能分析</h3>
<p><strong>位置</strong>: <code>src/api/llm_utils.py</code>, <code>src/config/llm_prompt_template.md</code></p>
<p><strong>支持模型</strong>:
- DeepSeek Chat
- OpenAI兼容API(自定义)
- 环境变量配置: <code>LLM_PROVIDER</code>, <code>*_API_KEY</code></p>
<p><strong>分析内容</strong>:
- 估值结果解读与投资建议
- 关键假设敏感性分析
- 行业对比与风险提示
- 中文专业报告生成</p>
<h3 id="4">4. 敏感性分析系统</h3>
<p><strong>位置</strong>: <code>src/api/sensitivity_models.py</code></p>
<p><strong>分析维度</strong>:
- WACC vs 永续增长率
- WACC vs 退出倍数
- 收入CAGR vs EBITDA利润率
- 收入CAGR vs 终值方法</p>
<p><strong>输出指标</strong>:
- 企业价值(EV)
- 每股价值(VPS)
- EV/EBITDA倍数
- 隐含PE倍数
- 隐含永续增长率</p>
<h3 id="5">5. 股票筛选器</h3>
<p><strong>位置</strong>: <code>src/core/screener/</code></p>
<p><strong>筛选条件</strong>:
- 市值范围
- 估值倍数(PE/PB/EV/EBITDA)
- 财务指标(ROE/ROA/收入增长率)
- 行业/板块过滤</p>
<h2 id="_7">开发工具链</h2>
<h3 id="_8">代码质量保障</h3>
<ul>
<li><strong>格式化</strong>: Black + isort</li>
<li><strong>静态检查</strong>: Ruff + MyPy(逐步启用)</li>
<li><strong>安全扫描</strong>: Bandit + Safety</li>
<li><strong>预提交钩子</strong>: pre-commit配置</li>
<li><strong>测试覆盖</strong>: pytest + pytest-cov</li>
</ul>
<h3 id="_9">包管理</h3>
<ul>
<li><strong>主要</strong>: uv(推荐,更快更可靠)</li>
<li><strong>备选</strong>: pip + requirements.txt</li>
<li><strong>依赖组</strong>: <code>[dev]</code>, <code>[test]</code>, <code>[docs]</code></li>
</ul>
<h3 id="_10">运行命令</h3>
<pre><code class="language-bash"># 环境设置
uv venv &amp;&amp; source .venv/bin/activate
uv pip install -e &quot;.[dev,test]&quot;

# 代码质量
pre-commit run --all-files
black . &amp;&amp; isort . &amp;&amp; ruff check --fix .

# 测试
pytest --cov=. --cov-report=html

# 应用运行
streamlit run frontend-streamlit/streamlit_app.py
uvicorn src.api.main:app --reload --port 8124
</code></pre>
<h2 id="_11">数据源对比与验证</h2>
<h3 id="tushare-vs-postgresql">TuShare vs PostgreSQL 对齐结果</h3>
<p><strong>测试案例</strong>: 000999.SZ, 600519.SH
<strong>对齐维度</strong>: 基准日期、历史CAGR、最新EBITDA、NWC组件、EV估值</p>
<p><strong>对齐状况</strong>:
- ✅ <strong>基准报表日期</strong>: 2024-12-31 (一致)
- ✅ <strong>历史收入CAGR</strong>: 21.698%/17.184% (完全一致)
- ✅ <strong>最新实际EBITDA</strong>: 600519完全一致，000999接近
- ✅ <strong>DCF计算链路</strong>: WACC、终值、现值逻辑一致
- ⚠️ <strong>VPS差异</strong>: 主要由股本快照时间差异(TS更及时)</p>
<h3 id="_12">数据源选择建议</h3>
<ul>
<li><strong>生产估值</strong>: <code>DATA_SOURCE=tushare</code> (更及时、更完整)</li>
<li><strong>历史复现</strong>: <code>DATA_SOURCE=postgres</code> 或 TS的PG兼容模式</li>
<li><strong>开发调试</strong>: <code>DATA_SOURCE=hybrid</code> (PG优先,TS回退)</li>
</ul>
<h2 id="_13">已知问题与限制</h2>
<h3 id="1_1">1. 行业适用性</h3>
<ul>
<li>✅ <strong>非金融企业</strong>: 完全适用</li>
<li>⚠️ <strong>金融企业</strong>: 部分指标不适用(银行/保险等)，会给出警告</li>
</ul>
<h3 id="2_1">2. 数据质量依赖</h3>
<ul>
<li>TuShare数据质量直接影响估值结果</li>
<li>需要定期校验与PG基准的一致性</li>
<li>清洗策略需要持续优化</li>
</ul>
<h3 id="3">3. 性能考虑</h3>
<ul>
<li>TuShare API有调用频率限制</li>
<li>建议增加本地缓存与重试机制</li>
<li>大批量筛选时可能较慢</li>
</ul>
<h2 id="_14">下一步规划</h2>
<h3 id="1-2">短期优化(1-2周)</h3>
<ul>
<li>[ ] 性能优化: 本地缓存机制</li>
<li>[ ] 清洗策略: 软化NWC组件清洗规则</li>
<li>[ ] 透明度: 市场快照trade_date透传到前端</li>
<li>[ ] 测试: 提升覆盖率到80%+</li>
</ul>
<h3 id="1_2">中期增强(1个月)</h3>
<ul>
<li>[ ] 行业专用模型: 金融企业估值模型</li>
<li>[ ] 数据监控: 定期TS↔PG基线漂移检查</li>
<li>[ ] 多市场支持: 港股/美股数据源</li>
<li>[ ] 批量估值: 支持股票池批量处理</li>
</ul>
<h3 id="3_1">长期愿景(3个月)</h3>
<ul>
<li>[ ] 实时流处理: 盘中实时估值更新</li>
<li>[ ] 机器学习: 历史估值准确性反馈学习</li>
<li>[ ] 云原生部署: Docker + K8s生产部署</li>
<li>[ ] 开放API: 第三方集成接口</li>
</ul>
<h2 id="_15">技术债务</h2>
<h3 id="_16">高优先级</h3>
<ol>
<li><strong>类型注解</strong>: MyPy覆盖率仍较低，需要逐步补强</li>
<li><strong>异常处理</strong>: 部分模块缺乏完整的错误处理链路</li>
<li><strong>文档同步</strong>: 代码变更后文档更新滞后</li>
</ol>
<h3 id="_17">中优先级</h3>
<ol>
<li><strong>日志系统</strong>: 统一的日志格式与级别管理</li>
<li><strong>配置管理</strong>: 环境变量管理可以更加结构化</li>
<li><strong>数据库连接</strong>: 连接池与事务管理优化</li>
</ol>
<h2 id="_18">结论</h2>
<p>项目已达到生产可用状态，核心功能完整且经过验证。TuShare数据源的引入显著提升了系统的时效性和数据完整性。当前版本(3.0)在科学性、准确性、实用性方面均满足专业投资分析需求。</p>
<p>下一阶段的重点是性能优化、用户体验提升和功能扩展，为更大规模的生产应用做准备。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>